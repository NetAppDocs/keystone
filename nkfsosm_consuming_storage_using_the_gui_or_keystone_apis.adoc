---
sidebar: sidebar
permalink: nkfsosm_consuming_storage_using_the_gui_or_keystone_apis.html
keywords:
summary:
---

= Consuming Storage Using the GUI or Keystone APIs
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

//
// This file was created with NDAC Version 2.0 (August 17, 2020)
//
// 2020-10-08 17:14:48.700600
//

=== Keystone GUI

The NetApp Service Engine web portal provides the means to manage and monitor a Keystone subscription storage service and supports monitoring and storage provisioning workflows.

NetApp Service Engine supports the concepts of regions and zones. A region represents a data center or site, while a zone represents a storage subunit within the Region (technically a cluster within a data center/site). Multiple zones support data availability and data protection features.

A single NetApp Service Engine instance can support one or more tenants. NetApp Service Engine uses the concepts of tenant and subtenant as hierarchical entities that own or manage the storage service.

A tenant can be a customer, partner, or a billing entity. A tenant holds the subscription (or multiple subscriptions) to the Keystone storage service. A subtenant is an entity wholly within the tenant. It can be used for show back, security separation, and so on.

Storage items are created per subtenant. Each subtenant can hold multiple storage items of the type and number suitable for that subtenant.

image:nkfsosm_image15.png[Error: Missing Graphic Image]

NetApp Service Engine supports the following types of storage:

* Block storage in block stores and disks
* File storage in file servers and file shares
* Object storage in buckets

|===
|Role |Access

|Customer admin
|The first customer admin user is created by Keystone team:
* Full access to provision and manages storage through NetApp Service Engine (including file servers and block stores)
* Can raise service requests and incidents
* Can assign roles to other users of NetApp Service Engine
|Read only/guest
|Read-only access across all components
|User
|Create and manage storage components consumed by end users – disks, shares, and buckets
|===

=== Keystone APIs

NetApp Service Engine provides a set of APIs to manage storage resources through a RESTful web service interface for any third-party integration. The APIs cover all the functionalities that are supported through the GUI. NetApp provides the API documentation, but it is the customer’s responsibility to integrate into their applications.

*Constructing a URL to Directly Access REST APIs*

REST APIs can be directly accessed through a programming language, such as Python, C#, C++, JavaScript, and so forth. Enter the host name or IP address and the URL to access the REST APIs in the format https://<NSE-url>/api.

=== Storage Provisioning

NetApp Service Engine provides a simplified workflow to create:

* File share with NFS or CIFS data access
* FC or iSCSI Disks
* S3 bucket

Additional workflows are available to create:

* A clone from file share or disk
* Data protection features on a file share or disk:
** Configure snapshot policy
** Configure backup policy
** Configure disaster recover policy

image:nkfsosm_image16.png[Error: Missing Graphic Image]

=== Order Additional Storage and Capacity Tiers

You can perform the following actions from the NetApp Service Engine portal, as shown in the below figure.

* View your subscription and current usage
* Order more capacity for existing storage service
* Order a new storage service or add-on
* Request to terminate the subscription

[NOTE]
You can increase capacity to an existing subscription at any time during the term (except in the last 90 days of the term) and the service needs to be renewed) and as soon as the additional capacity is available for use, the subscription gets updated and the burst calculation from that particular sample uses the new committed capacity for burst calculation.

From a billing perspective, if the new capacity goes into the next tier of pricing, the new price is used from the date of additional capacity activation.

image:nkfsosm_image17.png[Error: Missing Graphic Image]

=== Consumption Monitoring

The NetApp Service Engine web interface provides information on consumption monitoring and billing information. A user must have an account and the account is assigned to a role that determines the permissions, and therefore, which activities the user can perform. NetApp Service Engine requires the user to have a NetApp SSO account to log in.

image:nkfsosm_image18.png[Error: Missing Graphic Image]

The Subscribed Services pane displays information about the storage subscriptions for an account.

For the selected account, the panel displays the service tiers that make up the selected subscription, and for each tier the committed, consumed, and burst capacity.

You can perform the following actions from the NetApp Service Engine portal:

* Place a service request for these services:
** Restore from backup
** Disaster recovery failover
** Submit a technical issue with NetApp Service Engine
** Any other issue or request
* View all the submitted service requests, the list displays simple information about each service request such as:
** Service request ID
** Priority (as specified when created)
** Status (what are the options here and how will they change?)
** Date created
** Date updated

=== Billing

The following process describes how information is collected and processed for billing:

* NetApp Service Engine collects the consumed capacity information every five minutes and then maps it to the service levels to which the customer has subscribed.
* If the consumed capacity for a service level is less than what they committed (such as, no burst), then the capacity to be billed is recorded as the committed capacity.

image:nkfsosm_image19.png[Error: Missing Graphic Image]

* If the consumed capacity for a service level is greater than what they committed, such as burst capacity, then the average burst usage for that five minute- sample is calculated using the following formula:
+
`Burst used / (# of samples in an hour * # of hours in a day * # of days in the billing month)`

* 288 burst calculations are made per day, and sum of all the 288 samples is then reported as averaged burst per day.
* The sum of all average burst per day in a billing term is used to finally invoice the customer. In the above example, if the burst usage is only for four days in a billing term, the total burst usage invoiced for that month will be for 1.3TiB, sum of all burst averages reported per day.

image:nkfsosm_image20.png[Error: Missing Graphic Image]
